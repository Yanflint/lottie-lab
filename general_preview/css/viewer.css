@layer viewer {

/* --- Desktop 1:1 guard: center + no stretch --- */
@media (min-width: 769px) {
  html.viewer .page {
    display: grid !important;
    place-items: center !important;
    min-height: 100dvh !important;
  }
  html.viewer .app,
  html.viewer .wrapper,
  html.viewer .preview,
  html.viewer .lottie-layer,
  html.viewer #lotStage {
    width: auto !important;
    height: auto !important;
    max-width: none !important;
    max-height: none !important;
    margin: 0 auto !important;
    overflow: visible !important;
  }
  html.viewer .bg { display: block !important; text-align: center !important; }
  html.viewer .bg img,
  html.viewer img#bgImg {
    display: inline-block !important;
    width: auto !important;
    height: auto !important;
    max-width: calc(100vw - 64px) !important;
    max-height: calc(100dvh - 64px) !important;
    object-fit: contain !important;
    margin: 0 auto !important;
  }
  html.viewer .controls,
  html.viewer #mode,
  html.viewer #dropOverlay,
  html.viewer .placeholder { display: none !important; }
  html.viewer .wrapper::after { display: none !important; }
}


/* Desktop viewer: intrinsic size, centered; hide UI */
html.viewer, html.viewer body { margin:0; padding:0; overflow:hidden; }
html.viewer .page { width:100%; min-height:100dvh; display:grid; place-items:center; padding:0; }

/* 1:1, no stretch on desktop; center */
html.viewer .app,
html.viewer .wrapper,
html.viewer .preview,
html.viewer .lottie-layer,
html.viewer #lotStage {
  width:auto !important;
  height:auto !important;
  max-width:none !important;
  max-height:none !important;
  margin:0 auto !important;
  overflow:visible !important;
}

html.viewer .bg { display:block !important; text-align:center !important; }
html.viewer .bg img {
  display:inline-block !important;
  width:auto !important;
  height:auto !important;
  /* If doesn't fit, scale down */
  max-width:calc(100vw - 64px) !important;
  max-height:calc(100dvh - 64px) !important;
  margin:0 auto !important;
  object-fit:contain !important;
}

/* No decoration / no rounding / hide controls in viewer */
html.viewer .controls, html.viewer #mode, html.viewer #dropOverlay, html.viewer .placeholder { display:none !important; }
html.viewer .wrapper::after { display:none !important; }
html.viewer #wrapper, html.viewer .wrapper, html.viewer .preview,
html.viewer .bg, html.viewer .bg img, html.viewer .lottie-layer,
html.viewer #lotStage, html.viewer .lot-stage { border-radius:0 !important; }
}
