<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Multi‑Lottie Preview</title>
  <link rel="stylesheet" href="style.css">
  <style>
    :root { --sel-blue: #2EA8FF; }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 0; padding: 16px; }
    .app { max-width: 980px; margin: 0 auto; }
    .toolbar { display: flex; gap: 12px; align-items: center; flex-wrap: wrap; margin-bottom: 12px; }
    .toolbar .spacer { flex: 1; }
    #loopChk { margin-left: 0; margin-right: 0; } /* user's preference */
    #stageWrap { border-radius: 12px; background: #f6f7f8; padding: 12px; }
    #stage { position: relative; background: #fff; width: min(90vw, 800px); height: min(90vw, 800px); margin: 0 auto; overflow: hidden; border-radius: 8px; box-shadow: 0 1px 4px rgba(0,0,0,.06) inset; outline: none; }
    .lottie-item { position: absolute; top: 0; left: 0; user-select: none; cursor: grab; }
    .lottie-item.dragging { cursor: grabbing; }
    .lottie-item .selection-overlay { position: absolute; inset: 0; background: rgba(46,168,255,0.10); box-shadow: inset 0 0 0 2px rgba(46,168,255,1); pointer-events: none; border-radius: 2px; }
    .hint { font-size: 12px; color: #666; margin-top: 8px; }
    .pill { padding: 3px 8px; background: #eef7ff; border: 1px solid #cfe9ff; border-radius: 999px; }
    .btn { appearance: none; border: 1px solid #d0d7de; border-radius: 8px; padding: 8px 12px; background: #fff; cursor: pointer; }
    .btn:active { transform: translateY(1px); }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js" defer></script>
  <script defer type="module" src="./src/app/multi.js"></script>
</head>
<body>
  <div class="app">
    <div class="toolbar">
      <label class="btn">
        Загрузить Lottie (несколько)
        <input id="lotFiles" type="file" accept=".json,.lottie,application/json" multiple style="display:none">
      </label>
      <button id="restartBtn" class="btn" title="Повторить анимацию">Повтор</button>
      <label class="chk">
        <input type="checkbox" id="loopChk"> Цикл выделенной
      </label>
      <div class="spacer"></div>
      <span class="pill">Выделение: 10% голубой фон + внутренняя рамка 2px</span>
    </div>
    <div id="stageWrap">
      <div id="stage" tabindex="0" aria-label="Сцена с лотти"></div>
    </div>
    <p class="hint">Кликните по лотти, чтобы выделить. Тяните мышью для перемещения. Клавиши ← → ↑ ↓ двигают по 1px (Shift — по 10px).</p>
  </div>
</body>
</html>
