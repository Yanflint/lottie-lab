<!doctype html>
<html lang="ru">
<head>
  <base href="/" />
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Lottie-превью</title>
  <style>
    html,body { height:100%; margin:0; }
    body { display:grid; place-items:center; background:#0000; }
    .frame { width:100%; height:100%; border:0; display:block; }
  </style>
  <script>
    (function(){
      var isMobile = false;
      try {
        var ua = navigator.userAgent||'';
        var coarse = (window.matchMedia && matchMedia('(pointer:coarse)').matches);
        var narrow = (window.matchMedia && matchMedia('(max-width:768px)').matches);
        isMobile = coarse || /Android|iPhone|iPad|iPod|Mobile/i.test(ua) || narrow;
      } catch(e) {}
      var id = new URL(location.href).searchParams.get('id') || '';
      var target = isMobile ? '/viewer-mobile.html' : '/viewer-desktop.html';
      var src = target + (id ? ('?id=' + encodeURIComponent(id)) : '');
      window.addEventListener('DOMContentLoaded', function(){
        var f = document.getElementById('f');
        f.src = src;
      }, {once:true});
    })();
  </script>
</head>
<body>
  <iframe id="f" class="frame" allowfullscreen></iframe>
</body>
</html>
